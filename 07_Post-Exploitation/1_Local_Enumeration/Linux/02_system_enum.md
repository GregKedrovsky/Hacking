# Linux: Enumerating System Information

## Contents
- [Intro & Overview](#intro--overview)
- [Meterpreter Enumeration](#meterpreter-enumeration)
- [Manual Enumeration (Bash Shell)](#manual-enumeration-bash-shell)
  - x

## Intro & Overview
- After gaining initial access to a target system, it is always important to learn more about the system like what OS is running on the target, and what version of the OS is running.
  - This information is very useful as it gives us an idea of what we can do and what type of exploits me may be able to run.
- What are we looking for?
  - Hostname
  - Distribution and Distro release version
  - Kernel version and architecture
  - CPU information
  - Disk information and mounted drives
  - Installed packages & software

## Meterpreter Enumeration
> This is post-exploitation, so the assumption here is that you have compromised a Linux target and have an unpriviledged (non-root) account through which you gained initial access.
- If you obtained a shell through the MetaSploit exploit, upgrade your shell session to meterpreter
```
ctrl-z          # to background the bash session
sessions        # will show you the bash session in the bg
sessions -u 1   # that will upgrade session 1
sysinfo         # meterpreter command: gives you basic system information on the target
```

## Manual Enumeration (Bash Shell)
- Meterpreter command `shell` drops you into a shell on the target
- If you do not have an interactive shell: `/bin/bash -i`
- In addition to the [initial enumeration](01_initial_enum.md#system-enumeration), here are some more things to use for enumeration...

### `hostname`
- displays the hostname (name of the host/computer)

### `cat /etc/issue`
- display the distro name and verision

### `cat /etc/*release`
- more information related the version of Linux Distro that's running

### `uname -a`
- display all (`-a`) detailed information about the kernel

### `uname -r`
- limited information, kernel version only

### `env`
- enumerate the environment variables for a specific user

### `lscpu`
- display CPU information

### `free -h`
- display information about RAM consumption

### `df -h`
- displays a table of filesystems, their size, the available store, mountpoint, etc.
- `-h` : human readable

### `df -h -t ext4`
- display only those filesystems that are ext4
- `-t` : type (filesystem type)

### `lsblk | grep sd`
- Lists out the block devices mounted on the system, grepping out all "sd*" devices (sda, sdb, etc.)

### `dpkg -l`
- (Debian specific) enumerate the installed packages
- `-l` : list
