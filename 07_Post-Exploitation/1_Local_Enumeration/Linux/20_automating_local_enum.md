# Linux: Automating Local Enumeration

## Contents
- [Intro](#intro)
  - [Automating Linux Local Enumeration](#automating-linux-local-enumeration)
  - [A Linux Local Enum Script](#a-linux-local-enum-script)
- [Techniques & Tools](#techniques--tools)
  - [Automation with MetaSploit](#automation-with-metasploit)
  - [Automation with LinEnum](#automation-with-linenum)

## Intro

### Automating Linux Local Enumeration
- In addition to performing local enumeration manually, we can also automate the process with the help of a few scripts and MSF modules.
- While local enumeration techniques and commands are important to know, as a pentester you will need to be time efficient. As a result you will need to learn how to utilize various automated enumeration scripts.
- In addition to automating the process of enumerating information like system information, users & groups, etc. these automation enumeration scripts will also provide you with additional information regarding the target system, like:
  - Privilege escalation vulnerabilities
  - Locally stored passwords
  - Etc.

### A Linux Local Enum Script
- [LinEnum](https://github.com/rebootuser/LinEnum): a simple bash script that automates common Linux local enumeration checks in addition to identifying privilege escalation vulnerabilities. 

## Techniques & Tools

### Automation with MetaSploit
> This is post-exploitation. We are assuming you have compromised a Linux target and have an unprivileged meterprreter session.

#### Use Module: `enum_configs`
- Gather Linux configurations
- set session and run
- At the top: host name, Distro and version, kernel version
- All the information gathered is stored in text files.

#### Use Module: `enum_network`
- Gather Linux network information
- set session and run
- All the information gathered is stored in text files.

#### Use Module: `enum_system`
- Gather Linux system and user information
- set session and run
- You get: system info, cron jobs, disk info, installed packages, etc.
- All the information gathered is stored in text files. 

#### Use Module: `checkvm`
- Check to see if the target (local) is a virtual machine
- Use the Linux version of the module
- set your session and run

### Automation with LinEnum

#### Target `/tmp` dir
- Remember to use (or create and use) the /tmp dir on your target machine.
- Keep everything here so you don't lose track of it and it's easy to clean up.

#### Obtain a Copy of LinEnum
- Go over to the [LinEnum GitHub repo](https://github.com/rebootuser/LinEnum).
- The script is called `linenum.sh`.
- The `README.md` file gives you man page info on how to utilize the script.
- Click on the linenumsh script link. Click on "Raw" in the top right. Select all and copy.
  - Copy the contents of that script file to a file on your target machine where you can execute it.
  - i.e., copy it to the /tmp dir
 
#### Execute LinEnum
- Get a shell (or interactive shell, etc.) on the target.
- Navigate to the /tmp dir where you stored the LinEnum script.
- `chmod` the script file so it is executable.
- Execute the script: `./linenum.sh`



