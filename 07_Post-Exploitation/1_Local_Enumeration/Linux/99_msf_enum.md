# Post-Exploitation Enumeration with MetaSploit

## Contents
- [System Enumeration](#system-enumeration)
- [Network Enumeration](#network-enumeration)
- [MSF Modules to Enumerate](#msf-modules-to-enumerate)

## System Enumeration
- Start off with some SYSTEM enumeration. In a meterpreter session: 
```
> sysinfo
# Gives you the hostname, the O/S, the architecture, etc.

> getuid
# uid=0  -  In Linux this is root.

> shell
# gives you a shell on the target system

> /bin/bash -i
# spawn an interactive Bash session
# You'll see you have root privs, so you don't need to priv esc

> whoami

>  cat /etc/passwd
# Lists out the other users on the system 
# Most will be service accounts (with no /home directories)

> groups [username]
# If you type in groups root, you'll see the groups root belongs to

> cat /etc/*issue
# This will show you the Distro and Distro Version

> uname -r
# This will show the kernel version on the target system

> uname -a 
# This provides more information about the System, etc. 
```

## Network Enumeration
- Then you can do some NETWORK enumeration. In a meterpreter session:
```
> ifconfig   
# target system's network configuration
> ip -c a
# if ifconfig is not found / installed on the system

> netstat -antp
# netstat prints network connections, routing tables, interface statistics, masquerade connections, and multicast memberships 
# -a | --all      : show both listening and non-listening (for TCP this means established connections) sockets.
# -n | --numeric  : numerical addresses instead of trying to determine symbolic host, port or user names.
# -t | --tcp      : show tcp only 
# -p | --program  : show the PID and name of the program to which each socket belongs.

> ps aux
# List ourt the processes running on the target

> env
# Lists out (enumerate) your environment variables (on the target)
```

## MSF Modules to Enumerate
- Some Linux Post-Exploitation Modules in MSF: 
```
post/linux/gather/enum_configs
post/multi/gather/env
post/linux/gather/enum_network
post/linux/gather/enum_protections
post/linux/gather/enum_system
post/linux/gather/checkcontainer
post/linux/gather/checkvm
post/linux/gather/enum_users_history
post/multi/manage/system_session
post/linux/manage/download_exec
```
