# Windows: Enumerating System Information

## Contents
- [Intro](#intro)
  - [Why Enumerate System Info](#why-enumerate-system-info)
  - [First step: Gain Access](#first-step-gain-access)
- [Techniques & Tools](#techniques--tools)
  - [getuid](#getuid)
  - [sysinfo](#sysinfo)
  - [shell](#shell)
  - [wmic](#wmic)
  - [eula.txt](#eulatxt)

## Intro

### Why Enumerate System Info
- After gaining initial access to a target system, it is always important to learn more about the system (e.g., what o/s is running? what's the o/s version? flavor? etc.).
- What are we looking for during this post-ex phase of enumeration?
  - Hostname (might give you an idea of the purpose or function of the system you compromised)
  - OS Name (Windows 7, Windows 10, etc.)
  - OS Build and Service Pack (Windows 7 SP1 Build 7600)
  - OS Architecture (x64/x86)
  - Installed updates and hotfixes (patches)
- All of this information becomes extremely important during the privilege escalation phase.
  - This information will give you an idea of what might be vulnerable to exploit to priv esc.
 
### First step: Gain Access
> This is post-exploitation enumeration, so the first step is to get access to your target. Then we enumerate system information.

## Techniques & Tools

### `getuid` 
- This will give you user info (the user you are on the system)
- It also gives you some system information

### `sysinfo` 
- This will give you the hostname (computer name).
- It gives you the o/s, o/s version, o/s build, etc.
- It gives you the system architecture and meterpreter architecture.

### `shell` 
- This opens a command shell session on the target
```
> hostname      # gives you the hostname on Windows
> systeminfo    # gives you a butt ton of system information
```
- One very important piece of information is "Hotfix(s)"
- These are all the updates that have been installed on the system
- You can copies these and research them online

### `wmic`
```
wmic qfe get Caption,Description,HotfixID,InstalledOn 
```
- wmic is the Windows Management Instrumentation Command-line
- This gives you additional information related to hotfixes.
- "Security Update" is what you want to pay attention to, along with its "InstalledOn" date.

### eula.txt
- End User License Agreement
- Navigate to the root of the `C:\` drive
- Under `.\Windows\System32\`
- In this subdir is a file named `eula.txt`.
  - Some versions of Windows do not have this.
  - If it exists, it will provide you with information pertinent to operating system and o/s version information. It will also give you the build number and the service pack. 
