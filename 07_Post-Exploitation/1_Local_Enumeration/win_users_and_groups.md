# Enumerating Users and Groups

## Contents
- []()
- []()
- []()
- []()
- []()
- []()
- []()
- []()
- []()
- []()

## What is this?
- After gaining access to a target system, it is always important to learn more about the system.
  - For example: What user account do you have access to and what other user accounts are there on the target system?
- What are we looking for this in phase?
  - Current user and privileges
  - Additional user information (password policy, password age, password policy)
  - Other users on the system
  - Groups
  - Members of the built-in administrator group
 
## MSF Meterpreter
> Enumerating users and groups in Windows using the MetaSploit Meterpreter.
```
> getuid      # shows current user
> getprivs    # show the current privileges of the current user
```
- MSF post-exploitation module: `logged_on`
  - Shows current users logged on as well as users who have logged on before.
  - Background your meterpreter session (just type background)
```
> search logged_on
> use [the module]
> set SESSION       # to your meterpreter session 
> run
```

## Shell: Command Line
> Enumerating users and groups in Windows using the shell command line.
- From meterpreter you can open a command shell session by typing shell.
- From here you can perform the same enumeration manually.
```
whoami
# enumerate the current user (hostname/username)

whoami /priv
# enumerate the current user's current privileges (and you get additional information here).

query user
# enumerate the currently logged on users.

net users
# enumerate all the other users on the system

net user [username]
# learn more about a particular user
# You'll see the password policy information here (very important)

net localgroup
# enumerate the groups configured on the system

net localgroup administrators
# enumerate the users who are part of the Administrators group.
```
