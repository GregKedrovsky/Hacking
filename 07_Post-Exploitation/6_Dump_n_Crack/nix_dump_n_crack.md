# Linux: Dump & Crack Password Hashes
> With Linux (and unlike Windows: pass-the-hash, etc.) there is not a lot you can do with password hashes except try to crack them.


## Content
- []()
- []()
- []()
- []()
- []()
- []()
- []()
- []()

## Files Relavent to Password Hashes
- Linux has mult-user support and as a result multiple users can access the system simultaneously.
- This can be seen as both an advantage and a disadvantage from a security perspective.
- Multiple accounts offer multiple access vectors for attakers and therefore increase the overall risk of the server/system.

### /etc/passwd
- All of the information for all accounts on Linux is stored in the `/etc/passwd` file.
- We cannot view the passwords for the users in the passwd file because they are encrypted and the passwd file is readable by any user on the system. 

### /etc/shadow
- All the encrypted passwords for the users are stored in the `/etc/shadow` file. 
- The shadow file can only be accessed and read by root (or a user account who is part of the root group or who has sudo privileges).
- This is a very important security feature as it prevents other accounts on the system from accessing the hashed passwords.

## Linux Password Hashes
- The `/etc/shadow` file gives us information in regards to the **hashing algorithm** that is being used and the password hash.
- This is very helpful as we are able to determine the type of hashing algorithm that is being used and its strength.
- We can determine this by looking at the number after the username encapsulated (prefixed) by the dollar sign symbol.

### /etc/shadow Fields & Format
```
mark:$6$.n.:17736:0:99999:7:::
[--] [----] [---] - [---] ----
|      |      |   |   |   |||+-----------> 9. Unused
|      |      |   |   |   ||+------------> 8. Expiration date
|      |      |   |   |   |+-------------> 7. Inactivity period
|      |      |   |   |   +--------------> 6. Warning period
|      |      |   |   +------------------> 5. Maximum password age
|      |      |   +----------------------> 4. Minimum password age
|      |      +--------------------------> 3. Last password change
|      +---------------------------------> 2. Encrypted Password
+----------------------------------------> 1. Username
```
Source: https://linuxize.com/post/etc-shadow-file/

#### Colon Delimited Fields
1. username
2. password
3. date of last password change (unix time)
4. min days between password change
5. max days a password is valid
6. number of days before expiry when user is warned
7. numbers of days after expiry that account is disabled
8. account expiry date (unix time)

#### Password Field
- Your encrypted password is in hash format.
- The password should be minimum 15-20 characters long including special characters, digits, lower case alphabetic and more.
- Usually password format is set to `$id$salt$hashed`, The `$id` is the algorithm prefix used On GNU/Linux as follows:
  - `$1$` is MD5
  - `$2a$` is Blowfish
  - `$2y$` is Blowfish
  - `$5$` is SHA-256
  - `$6$` is SHA-512
  - `$y$` is yescrypt
 





